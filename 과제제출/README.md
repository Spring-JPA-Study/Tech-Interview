# 스프링 완전 정복

## 01. 스프링 입문

### ❔[1. ](#❕1) 빈 스코프(Bean Scope)란 무엇인가?
### ❔[2. ](#) 
### ❔[3. ](#)
### ❔[4. ](#)
### ❔[5. ](#)
### ❔[6. ](#)

---
## 모범답안

### ❕[1. ](#❔1) 빈 스코프(Bean Scope)란 무엇인가?

<details> <summary>1. 모범답안</summary> <div markdown="1">  


  ```
빈 스코프는 말 그대로 빈이 존재할 수 있는 범위를 뜻한다. 
  ```

  ##### 해설

    스프링은 다음과 같은 다양한 스코프를 지원한다.
    
    싱글톤(Singleton) : 기본 스코프, 스프링 컨테이너의 시작과 종료까지 유지되는 가장 넓은 범위의 스코프
    프로토타입(Prototype) : 스프링 컨테이너는 프로토타입 빈의 생성과 의존관계 주입까지만 관여하고 더는 관리하지 않는 매우 짧은 범위의 스코프
    웹 관련 스코프
    request : 웹 요청이 들어오고 나갈 때까지 유지되는 스코프
    session : 웹 세션이 생성되고 종료될 때까지 유지되는 스코프
    application : 웹의 서블릿 컨텍스트와 같은 범위로 유지되는 스코프






</div> </details>


<details> <summary>1-1. 스프링에서 싱글톤 빈과 프로토 타입 빈의 차이점은 무엇인가, 왜 사용하는가</summary> <div markdown="1">  


  ```
    싱글톤 빈은 스프링 컨테이너에서 오직 하나의 인스턴스만 생성되고,
    이 인스턴스가 애플리케이션 전반에서 공유되는 방식으로 동작한다.
    프로토타입 빈은 매번 새로운 인스턴스가 요청될떄마다 새로운 객체가 생성되는 방식이다.
    
    싱글톤빈을 사용하면 리소스 사용을 최소화하고, 메모리 효율적 관리 가능하며, 상태공유하기 쉽게 만든다.
    프로토타입빈을 사용하면 여러곳에서 사용될때 독립적인 상태를 유지하여, 
    상태가 변하는 컴포넌트 관리에 용이하며, 다중쓰레드 환경에서 동시성문제를 피할 수 있다.
  ```

  ##### 해설

    싱글톤 빈의 사용 이유는 클라이언트에서 요청이 올 때마다 각 로직을 담당하는 오브젝트를
    새로 만들어서 사용한다면 부하가 걸려서버가 감당하기 힘들다 
</div> </details>



<details> <summary>아무런 설정을 하지않고 singleton 스코프의 빈이 prototype 스코프의 빈을 주입받는경우 prototype빈이 prototype 답게 동작하지 않는 문제가 생기는데 어떻게 해결 가능한가</summary> <div markdown="1">  


  ```
싱글톤 스코프의 빈이 프로토타입 빈을 주입받으면 
싱글톤의 프로토타입 빈은 매번 바뀌지 않고 같은 빈이 쓰임  

1. @Scope 어노태이션에 proxyMode = ScopedProxyMode.TARGET_CLASS를 이용하는 방법
2. ObjectProvider객체를 사용하는 방법
3. Provider (JSR-330) 사용하는 방법 이 있다.
```

  ##### 해설
    
    @Scope(value = "prototype", proxyMode = ScopedProxyMode.TARGET_CLASS)를 추천한다.
    Provider는 자바 표준이고, 기능이 단순하므로 단위테스트를 만들거나 mock 코드를 만들기는 훨씬 쉬워진다.
    'ObjectProvider', 'JSR330 Provider' 등은 프로토타입 뿐만 아니라 DL이 필요한 경우는 언제든지 사용할 수 있다.
    
     진짜 객체 조회를 꼭 필요한 시점까지 지연처리가 가능하다.

</div> </details>

<br>
